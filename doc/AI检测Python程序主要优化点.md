# AI 检测Python程序主要优化点

 1. 系统双进程改为单进程,直接创建线程来检测执行检测任务.减小进程间通信开销以及系统维护成本.
 2. 废弃使用cv2库来解析rtsp视频流(这里经常出错),改为使用yolo内置的Streaming Mode来检测视频流. 
 3. 输出检测结果代码(流程)优化,提高性能并简化代码(流程).
 4. 添加日志模块,把关键的日志信息记录到日志文件.
 5. 整理和完善系统初始化的操作流程以及相关文档.
 6. 整理requirements.txt文件,使用"pip install -r requirements.txt"部署检测系统.

---
张芳松 2024-03-19



# AI 检测系统较大的已优化点

 1. AI检测线程改为使用子进程。解决检测时间久了系统进程僵死的问题，以及检测线程抢占CPU导致其他线程无法运行的问题。
 2. 代码模块化与封装，降低代码的整体复杂程度。
 3. 优化全部功能的UI界面，添加多选、分页、删除、Tooltip等便利功能，添加中文语言包。优化并封装页面展现的控制流，使得页面开发标准化，简化代码逻辑。
 4. 添加人脸检测线程相关功能菜单。人脸检测线程增加情绪监测和陌生人轨迹跟踪。同时在普通检测线程中集成人脸检测功能。
 5. 检测线程支持接入多路摄像头，并优化检测性能。
 6. 一个MQTT源检测线程支持大量的MQTT相机，并支持订阅多个Topic。
 7. 添加系统的启动与关闭脚本。解决系统运行一定时间会报错以及无法正常关闭的问题。
 8. 检测线程异常检测优化，捕获并记录所有的异常信息到日志文件。

---
张芳松 2024-07-02